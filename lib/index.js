var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),__assign=this&&this.__assign||Object.assign||function(e){for(var t,a=1,n=arguments.length;n>a;a++){t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e};System.register("bootstrap",[],function(e,t){"use strict";function a(){var e=new s({publicId:"RVrw4jYbl9XvTM4hRBbJ2cGRcRJlW7evenovhYtLde"});return new Promise(function(t){e.Authenticate(function(){t(e)})})}function n(){return Promise.all([a()]).then(function(e){return{shop:e[0]}})}t&&t.id;e("default",n);var s;return{setters:[],execute:function(){s=window.Moltin}}}),System.register("model/blog",[],function(e,t){"use strict";function a(){return{id:(Math.floor(5*Math.random())+1).toString(),title:"Lorem Ipsum Dolor",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer imperdiet placerat sapien, sit amet tincidunt nibh pellentesque quis. Mauris eget est et sem hendrerit vehicula non at tortor.",by:"Joseph Luck"}}function n(){return{state:{items:[a(),a(),a(),a(),a()],post:null},reducers:{setPost:function(e,t){return{post:t}}},effects:{getPost:function(e,t){var a=e[s].items.find(function(t){return t.id===e.location.params.blogId});return Promise.resolve(t[s].setPost(a))}}}}t&&t.id;e("model",n);var s;return{setters:[],execute:function(){e("namespace",s="blog")}}}),System.register("model/products",[],function(e,t){"use strict";function a(e){var t=e.shop;return{state:{items:[]},reducers:{set:function(e,t){return{items:t}}},effects:{fetch:function(e,a){return new Promise(function(e){t.Product.Find("limit=20",e)}).then(a[n].set)}}}}t&&t.id;e("model",a);var n;return{setters:[],execute:function(){e("namespace",n="products")}}}),System.register("model/cart",[],function(e,t){"use strict";function a(){return{state:{items:[],subTotal:0,quantity:0,shipping:5},reducers:{add:function(e,t){var a=e.items.concat(t);return{items:a,subTotal:n(a),quantity:s(a)}},remove:function(e,t){var a=e.items.filter(function(e,a){return a!==t});return{items:a,subTotal:n(a),quantity:s(a)}},update:function(e,t){var a=(t.index,t.item),i=e.items.map(function(e){return e.id===a.id?a:e});return{items:i,subTotal:n(i),quantity:s(i)}}},effects:{}}}function n(e){return e.reduce(function(e,t){return e+t.price.data.raw.with_tax*t.quantity},0)}function s(e){return e.reduce(function(e,t){return e+t.quantity},0)}t&&t.id;e("model",a);var i;return{setters:[],execute:function(){e("namespace",i="cart")}}}),System.register("model/index",["model/blog","model/cart","model/products"],function(e,t){"use strict";function a(e){return{state:{foo:"foo"},reducers:{},effects:{},models:(t={},t[n.namespace]=n.model(),t[s.namespace]=s.model(),t[i.namespace]=i.model(e),t)};var t}t&&t.id;e("default",a);var n,s,i;return{setters:[function(e){n=e},function(e){s=e},function(e){i=e}],execute:function(){}}}),System.register("components/tabs",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.tabs,a=e.activeTab;return n["default"]("ul",null,t.map(function(e,t){return n["default"]("li",{key:t,className:"d-ib"},n["default"]("a",{className:"\n                pv-3 bb bw-medium fw-500 fc-grey-800 d-ib tt-uppercase fs-small ff-link transition\n                "+(0!==t?"ml-4":"")+"\n                "+(e.name===a?"bc-primary":"bc-white")+"\n              ",href:e.href},e.label))}))}t&&t.id;e("default",a);var n;return{setters:[function(e){n=e}],execute:function(){}}}),System.register("components/cart-icon",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.active;return n["default"]("div",{className:"pos-relative"},t?n["default"]("div",{className:"pos-absolute w-1 h-1 bra-pill bg-primary",style:{top:"-0.5rem",right:"-0.5rem"}}):null,n["default"]("a",{className:"ss-cart fc-grey-500",href:t?"/cart":"/shop"}))}t&&t.id;e("default",a);var n;return{setters:[function(e){n=e}],execute:function(){}}}),System.register("components/button",["helix-react/lib/html"],function(e,t){"use strict";function a(e){return"small"===e?"ph-2 pv-1 fw-300 bw-small fs-tiny bc-grey-600":"medium"===e?"ph-3 pv-2 fw-300 bw-small fs-small bc-grey-600":"ph-4 pv-3 fw-500 bw-medium bc-black"}function n(e){var t=e.label,n=e.className,i=void 0===n?"":n,r=(e.type,e.size),u=void 0===r?"medium":r,l=e.onClick,c=void 0===l?function(){return null}:l,o=e.href,f="d-ib tt-uppercase bg-white ba c-pointer",d=a(u),m=f+" "+d+" "+i;return o?s["default"]("a",{className:m,href:o},t):s["default"]("button",{onClick:c,className:m},t)}t&&t.id;e("default",n);var s;return{setters:[function(e){s=e}],execute:function(){}}}),System.register("components/cart-alert",["helix-react/lib/html","components/button"],function(e,t){"use strict";function a(e){var t=e.items;return n["default"]("div",{className:"\n        pos-fixed posb-0 posl-0 w-100 bt bc-grey-100 bg-white\n        transition\n        "+(t?"transition-slide-in":"transition-slide-out")+"\n      "},n["default"]("div",{className:"max-width ml-auto mr-auto flex-1 d-flex pa-3 tt-uppercase fs-small"},n["default"]("span",{className:"flex-1 d-flex align-items-center"},n["default"]("span",{className:"d-ib w-1 h-1 bra-pill bg-primary mr-2"}),t," items in your basket"),n["default"](s["default"],{label:"Checkout",size:"small",href:"/cart"})))}t&&t.id;e("default",a);var n,s;return{setters:[function(e){n=e},function(e){s=e}],execute:function(){}}}),System.register("pages/layout/main",["helix-react/lib/html","components/tabs","components/cart-icon","components/cart-alert"],function(e,t){"use strict";function a(e){return e.includes("shop")||e.includes("cart")?"shop":e.includes("about")?"about":e.includes("blog")?"blog":e.includes("contact")?"contact":void 0}function n(e){return{onEnter:e.onEnter,onUpdate:e.onUpdate,onLeave:e.onLeave,view:function(t,n,l){var c=a(t.location.pathname),o=t.location.pathname.indexOf("cart")>-1;return s["default"]("div",{className:"pb-5"},s["default"]("div",{className:"d-flex align-items-center w-100 pa-3"},s["default"]("span",{className:"ss-menu fc-grey-500"}),s["default"]("a",{className:"d-b flex-1 fw-700 ta-c",href:"/"},s["default"]("img",{src:"/assets/rise.png",style:{height:"auto",width:"50px"}})),s["default"]("div",{className:"d-flex align-items-center"},s["default"](r["default"],{active:!!t.cart.items.length}))),s["default"]("div",{className:"ta-c"},s["default"](i["default"],{tabs:[{label:"Shop",name:"shop",href:"/shop"},{label:"About",name:"about",href:"/about"},{label:"Blog",name:"blog",href:"/blog"},{label:"Contact",name:"contact",href:"/contact"}],activeTab:c})),s["default"]("div",null,e.view(t,n,l)),s["default"](u["default"],{items:o?0:t.cart.quantity}))}}}{var s,i,r,u;t&&t.id}return{setters:[function(e){s=e},function(e){i=e},function(e){r=e},function(e){u=e}],execute:function(){e("default",n)}}}),System.register("components/carousel",["helix-react/lib/html","flickity","react"],function(e,t){"use strict";{var a,n,s,i;t&&t.id}return{setters:[function(e){a=e},function(e){n=e},function(e){s=e}],execute:function(){i=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.componentDidMount=function(){this.setupCarousel()},t.prototype.shouldComponentUpdate=function(e){return e.items.length!==this.props.items.length},t.prototype.componentDidUpdate=function(){this.setupCarousel()},t.prototype.setupCarousel=function(){this.props.items.length&&new n(this.refs.carousel)},t.prototype.render=function(){var e=this;return a["default"]("div",{className:"carousel mb-4",ref:"carousel"},this.props.items.map(function(t,n){return a["default"]("div",{key:n,className:"carousel-item w-100"},e.props.item(t))}))},t}(s.Component),e("default",i)}}}),System.register("pages/home",["helix-react/lib/html","components/button","components/carousel"],function(e,t){"use strict";{var a,n,s,i;t&&t.id}return{setters:[function(e){a=e},function(e){n=e},function(e){s=e}],execute:function(){i={onEnter:function(e,t,a){a.products.fetch()},view:function(e){return a["default"]("div",null,a["default"](s["default"],{items:e.products.items,item:function(e){return a["default"]("div",{className:"h-10 d-flex flex-direction-column pa-3",style:{backgroundImage:"url("+e.images[0].url.http+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}},a["default"]("div",{className:"flex-1"}),a["default"]("div",{className:"ph-3 pv-2 ba bc-black bg-black fc-white ta-c"},e.title))}}),a["default"]("div",{className:"pv-5"},a["default"]("div",{className:"ta-c ph-4 mb-9"},a["default"]("div",{className:"fs-heading mb-4 fw-500"},"Honest Baking"),a["default"]("div",{className:"lh-5 mb-4"},"Lorem ipsum dolor sit amet"),a["default"](n["default"],{label:"Shop",href:"/shop",size:"large"})),a["default"]("div",{className:"ta-c ph-4 mb-9"},a["default"]("div",{className:"fs-heading mb-4 fw-500"},"Local, London"),a["default"]("div",{className:"lh-5 mb-4"},"We are based just off Brick Lane. We honed our trade selling cakes to local businesses. And after a couple of years our cakes were going down so well locally, we decided to start selling our amazingly delicious brownies online too."),a["default"](n["default"],{label:"Our Story",href:"/about",size:"large"})),a["default"]("div",{className:"ta-c ph-4 mb-9"},a["default"]("div",{className:"fs-heading mb-4 fw-500"},"Award Winning"),a["default"]("div",{className:"lh-5 mb-4"},"Our parent charity - Providence Row - was founded over 150 years ago. We've been based in the East End for all of that time and food has always played a HUGE role in what we do. We now run multi-award winning catering training programmes and are absolutely brilliant at doing so."),a["default"](s["default"],{items:[{title:"London Homelessness Awards - 2nd Place - 2015",img:"https://static1.squarespace.com/static/56afc080a3360cedc16daaf5/56eabca15559861e784d8dec/56eabd4007eaa03f5db84756/1458224884115/LHAwards_new_logo.jpg?format=300w"},{title:"GovKnow Social Justice Award - Winners - 2014",img:"https://static1.squarespace.com/static/56afc080a3360cedc16daaf5/56eabca15559861e784d8dec/56eabdb34c2f85a15d46fd43/1458225082472/SOCIAL+JUSTICE+2014+WINNER.jpg?format=300w"},{title:"Social Inclusion Award - Winner - 2013",img:"https://static1.squarespace.com/static/56afc080a3360cedc16daaf5/56eabca15559861e784d8dec/56eabdae4c2f85a15d46fd1e/1458225054606/logo.png?format=500w"}],item:function(e){return a["default"]("div",{className:"d-flex flex-direction-column pa-3 of-hidden",style:{height:"16rem"}},a["default"]("div",{className:"flex-1",style:{backgroundImage:"url("+e.img+")",backgroundPosition:"center center",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),a["default"]("div",{className:"tc mt-5 tt-uppercase fs-small lh-5"},e.title))}}))))}},e("default",i)}}}),System.register("components/post-item",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.className,a=e.title,s=e.description,i=e.by,r=e.id;return n["default"]("div",{className:""+t},n["default"]("a",{className:"d-flex mb-3",href:"/blog/"+r},n["default"]("div",{className:"bra-2 bg-grey-100 w-5 h-5 mr-3"}),n["default"]("div",{className:"flex-1 d-flex flex-direction-column"},n["default"]("div",{className:"mb-1 fw-500 flex-1"},a),n["default"]("div",{className:"fs-small fc-grey-600 lh-5"},"By ",i))),n["default"]("div",{className:"fs-small fc-grey-600 lh-5"},s,"..."))}t&&t.id;e("default",a);var n;return{setters:[function(e){n=e}],execute:function(){}}}),System.register("pages/blog",["helix-react/lib/html","components/post-item"],function(e,t){"use strict";{var a,n,s;t&&t.id}return{setters:[function(e){a=e},function(e){n=e}],execute:function(){s={view:function(e){return a["default"]("div",{className:"ph-4 pb-4 pt-5"},e.blog.items.map(function(e,t){return a["default"](n["default"],__assign({key:t,className:"pb-4 mb-4 bb bc-grey-100"},e))}))}},e("default",s)}}}),System.register("pages/post",["helix-react/lib/html"],function(e,t){"use strict";{var a,n;t&&t.id}return{setters:[function(e){a=e}],execute:function(){n={onEnter:function(e,t,a){a.blog.getPost()},view:function(e){var t=e.blog.post;return t?a["default"]("div",{className:"ph-4 pb-4 pt-5"},a["default"]("div",{className:"ta-c mb-4"},a["default"]("div",{className:"fw-500 mb-3 fs-large"},t.title),a["default"]("div",{className:"fc-grey-600 fs-small"},"By ",t.by)),a["default"]("div",{className:"lh-5"},t.description)):null}},e("default",n)}}}),System.register("components/stepper",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.className,a=e.onClick;return s["default"]("span",{className:"\n        d-inline-flex align-items-center\n        ba bc-grey-200 pa-1 fc-grey-400 fs-tiny\n      ",onClick:a},s["default"]("span",{className:"ml-auto mr-auto "+t}))}function n(e){function t(){return o>0?c((o-1).toString()):void 0}function n(){return c((o+1).toString())}var r=e.className,u=void 0===r?"":r,l=(e.placeholder,e.value),c=e.onChange,o=parseInt(l,10);return s["default"]("div",{className:"d-inline-flex align-items-center "+u},s["default"](a,{className:(1===o?"ss-trash":"ss-hyphen")+" mr-1",onClick:t}),s["default"]("select",{className:"ph-1 pv-1 fw-300 fs-small ta-c bc-white bg-white bra-0",style:{textAlignLast:"center"},value:l,onChange:function(e){return c(e.target.value)}},i.map(function(e,t){return s["default"]("option",{value:e.value,key:t},e.label)})),s["default"](a,{className:"ss-plus ml-1",onClick:n}))}t&&t.id;e("default",n);var s,i;return{setters:[function(e){s=e}],execute:function(){i=Array.from({length:99},function(e,t){return{label:t.toString(),value:t.toString()}})}}}),System.register("components/currency",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.price,a=t.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return n["default"]("span",null,a)}t&&t.id;e("default",a);var n;return{setters:[function(e){n=e}],execute:function(){}}}),System.register("components/cart-item",["helix-react/lib/html","components/stepper","components/currency"],function(e,t){"use strict";{var a,n,s,i;t&&t.id}return{setters:[function(e){a=e},function(e){n=e},function(e){s=e}],execute:function(){i=function(e){var t=(e.id,e.title),i=e.price,r=e.quantity,u=e.description,l=e.updateQuantity,c=e.removeItem;return a["default"]("div",{className:"pv-4 bb bc-grey-100 d-flex align-items-center"},a["default"]("div",{className:"flex-1 d-flex flex-direction-column of-hidden mr-3"},a["default"]("div",{className:"mb-2"},t),a["default"]("div",{className:"fs-small of-hidden w-100 fc-grey-600",style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},u)),a["default"]("div",{className:"ta-r"},a["default"](n["default"],{className:"mb-2",value:r.toString(),onChange:function(e){return"0"===e?c():l(parseInt(e,10))}}),a["default"]("div",{className:"fs-medium"},"£",a["default"](s["default"],{price:i.data.raw.with_tax*r}))))},e("default",i)}}}),System.register("pages/cart",["helix-react/lib/html","components/cart-item","components/button","components/currency"],function(e,t){"use strict";function a(e){var t=e.label,a=e.amount;return n["default"]("div",{className:"ta-c pb-4"},n["default"]("div",{className:"pb-2 fs-small tt-uppercase"},t),n["default"]("div",{className:"fs-large"},"£",n["default"](r["default"],{price:a})))}{var n,s,i,r,u;t&&t.id}return{setters:[function(e){n=e},function(e){s=e},function(e){i=e},function(e){r=e}],execute:function(){u={view:function(e,t,r){return n["default"]("div",{className:"ph-4 pb-4 pt-3"},e.cart.items.map(function(e,t){return n["default"](s["default"],__assign({key:t,updateQuantity:function(a){return r.cart.update({index:t,item:__assign({},e,{quantity:a})})},removeItem:function(){return r.cart.remove(t)}},e))}),n["default"]("div",{className:"pt-4"},n["default"](a,{label:"Sub Total",amount:e.cart.subTotal}),n["default"](a,{label:"Shipping",amount:e.cart.shipping}),n["default"](a,{label:"Total",amount:e.cart.subTotal+e.cart.shipping})),n["default"](i["default"],{label:"Checkout",className:"w-100"}))}},e("default",u)}}}),System.register("components/stateful-component",["react"],function(e,t){"use strict";function a(e){var t=this;return Object.keys(e).reduce(function(a,n){return __assign({},a,(s={},s[n]=function(a){var s=e[n](t.state,t.props,a);return t.setState(s),t.state},s));var s},{})}function n(e,t){var a=this;return Object.keys(e).reduce(function(n,s){return __assign({},n,(i={},i[s]=function(n){return e[s](a.state,a.props,t,n)},i));var i},{})}function s(e){var t=e.state,s=e.reducers,r=void 0===s?{}:s,u=e.effects,l=void 0===u?{}:u,c=e.onEnter,o=e.render;return i.createClass({getInitialState:function(){return t},componentWillMount:function(){this.reducers=a.bind(this)(r),this.effects=n.bind(this)(l,this.reducers)},componentDidMount:function(){var e=__assign({},this.reducers,this.effects);c&&c(this.refs,this.state,this.props,e)},render:function(){var e=__assign({},this.reducers,this.effects);return o(this.state,this.props,e)}})}t&&t.id;e("default",s);var i;return{setters:[function(e){i=e}],execute:function(){}}}),System.register("components/select",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.className,a=void 0===t?"":t,s=e.placeholder,i=void 0===s?"":s,r=e.options,u=e.value,l=e.onChange;return n["default"]("select",{defaultValue:i,className:"\n        ph-3 pv-2 fw-300 bw-small fs-small bc-grey-600 bg-white bra-0 ta-c\n        "+a+"\n      ",style:{textAlignLast:"center"},value:u,onChange:function(e){return l(e.target.value)}},i?n["default"]("option",{value:i},i):null,r.map(function(e,t){return n["default"]("option",{value:e.value,key:t},e.label)}))}t&&t.id;e("default",a);var n;return{setters:[function(e){n=e}],execute:function(){}}}),System.register("components/product",["helix-react/lib/html","components/stateful-component","components/button","components/select","components/currency"],function(e,t){"use strict";{var a,n,s,i,r;t&&t.id}return{setters:[function(e){a=e},function(e){n=e},function(e){s=e},function(e){i=e},function(e){r=e}],execute:function(){e("default",n["default"]({state:{quantity:null},reducers:{updateQuantity:function(e,t,a){return{quantity:parseInt(a,10)}}},render:function(e,t,n){return a["default"]("div",{className:""+t.className},a["default"]("div",null,a["default"]("img",{src:t.images[0].url.http,className:"w-100 h-auto"})),a["default"]("div",{className:"bl bb br bc-grey-100 pa-3 ta-c"},a["default"]("div",{className:"mb-4"},a["default"]("div",{className:"fw-500 mb-3 fs-large"},t.title),a["default"]("div",{className:"fc-grey-700 mb-3"},"£",a["default"](r["default"],{price:t.price.data.raw.with_tax})),a["default"]("div",{className:"lh-5"},t.description)),a["default"]("div",{className:"d-flex"},a["default"](i["default"],{className:"flex-1 mr-2",placeholder:"QUANTITY",value:e.quantity?e.quantity.toString():"",onChange:n.updateQuantity,options:[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"10",value:"10"}]}),a["default"](s["default"],{label:"Add to Cart",className:"flex-1 ml-2",onClick:function(){e.quantity&&(n.updateQuantity(""),t.onAddToCart(e.quantity))}}))))}}))}}}),System.register("pages/shop",["helix-react/lib/html","components/product"],function(e,t){"use strict";{var a,n,s;t&&t.id}return{setters:[function(e){a=e},function(e){n=e}],execute:function(){s={onEnter:function(e,t,a){a.products.fetch()},view:function(e,t,s){return a["default"]("div",{className:"d-flex flex-wrap-wrap pa-3"},e.products.items.map(function(e,t){return a["default"]("div",{className:"w-100 pv-3",key:t},a["default"](n["default"],__assign({},e,{onAddToCart:function(t){s.cart.add(__assign({},e,{quantity:t}))}})))}))}},e("default",s)}}}),System.register("pages/index",["pages/layout/main","pages/home","pages/blog","pages/post","pages/cart","pages/shop"],function(e,t){"use strict";{var a,n,s,i,r,u;t&&t.id}return{setters:[function(e){a=e},function(e){n=e},function(e){s=e},function(e){i=e},function(e){r=e},function(e){u=e}],execute:function(){e("default",{"/":a["default"](n["default"]),"/blog":a["default"](s["default"]),"/blog/:blogId":a["default"](i["default"]),"/cart":a["default"](r["default"]),"/shop":a["default"](u["default"])})}}}),System.register("index",["sheetify","helix-react","helix-react/lib/log","model/index","pages/index","bootstrap"],function(e,t){"use strict";{var a,n,s,i,r,u,l,c,o;t&&t.id}return{setters:[function(e){a=e},function(e){i=e},function(e){r=e},function(e){u=e},function(e){l=e},function(e){c=e}],execute:function(){require("whatwg-fetch"),require("es6-promise"),n=a("./styles/styles.css"),s=a("./styles/index.css"),o=document.createElement("div"),o.className=n+" "+s,document.body.appendChild(o),c["default"]().then(function(e){console.log("setting up helix",e),i["default"]({model:u["default"](e),routes:l["default"],mount:o,plugins:[r["default"]]})})}}}),System.register("components/textfield",["helix-react/lib/html"],function(e,t){"use strict";function a(e){var t=e.label,a=e.className,s=void 0===a?"":a,i=e.type,r=void 0===i?"text":i,u=e.autoFocus,l=void 0===u?!1:u;return n["default"]("div",{className:s},t?n["default"]("label",{className:"d-ib w-100 mb-2 fc-grey-500 fs-small"},t):null,n["default"]("input",{type:r,autoFocus:l,className:"d-ib w-100 ba bc-grey-200 bg-white pa-2 bra-2 bc-primary-f"}))}t&&t.id;e("default",a);var n;return{setters:[function(e){n=e}],execute:function(){}}});